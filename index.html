<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Web Converter</title>
	<link rel="stylesheet" href="css/dropzone.css">
	<link rel="stylesheet" href="css/style.css">
	<style>
	.hideinput{
	    width: 0.1px;
	    height: 0.1px;
	    opacity: 0;
	    overflow: hidden;
	    position: absolute;
	    z-index: -1;
	}
	.hideinput + label{
		border: 1px solid #aaa;
		background-color: #f1e5e6;
		padding: 5px;
		color: #333;
		width:100%;
		font-size: 1.25rem;
		font-weight: 700;
		text-overflow: ellipsis;
		white-space: nowrap;
		cursor: pointer;
		display: inline-block;
		overflow: hidden;
		height:35px;
		position: relative;
	}
	.hideinput + label span{
		display:inline-block;
		position:absolute;
		top:3px;
		right:5px;
		padding:5px;
		text-align:right;
		font-size:13px;
		color:#aaa;
		background:#e1e1e1;
		border:1px solid #e1e1e1;
	}
	.hideinput + label span:hover{
		border-color:#aaa;
		box-shadow:0px 0px 5px #fff;
	}
	.inputfile-6 + label strong{
	    height: 100%;
	    color: #f1e5e6;
	    background-color: #d3394c;
	    display: inline-block;
	        padding: 0.625rem 1.25rem;
	}
	</style>
</head>
<body>
	<div id="container">
		<header>
			<h1 id="title">webconverter</h1>
			<span>convert image files & metadata</span>
		</header>
		<main>
		<!--
			<form action="oldupload.php" name="myDropzone" id="myDropzone" class="dropzone dz-clickable" method="post">
			-->
			<form action="oldupload.php" name="myDropzone" method="post">
			    <input name="file" id="file" class="hideinput" type="file" accept="image/*" />
			    <label for="file"><span class="dasfiln"></span><strong><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"></path></svg> Choose file...</strong></label>
			  <div class="previews">
				<!-- Previews kommer her -->
				<div class="pre-cont">
						<table>
							<tr>
								<th colspan="2"><span class="filename"></span><input type="hidden" class="filenamev" name="name" /></th>
							</tr>
							<tr>
								<td>Convert from</td>
								<td>
									<select name="from" id="fromsel">
										<option value="png">png</option>
										<option value="jpg">jpg</option>
										<option value="gif">gif</option>
									</select>
								</td>
							</tr>
							<tr>
								<td>Convert to</td>
								<td>
									<select name="to">
										<option value="png">png</option>
										<option value="jpg">jpg</option>
										<option value="gif">gif</option>
									</select>
								</td>
							</tr>
							<tr>
								<td>Dimensions</td>
								<td>
									<input type="text" class="wideinp" name="width" value="640" />px <strong>x</strong>
									<input type="text" class="tallinp" name="height" value="200" />px
								</td>
							</tr>
							<tr>
								<td class="alignright"><input type="checkbox" name="delmeta" /></td>
								<td>Delete metadata (<a href="#" class="metad" title="Clicking this won't leave the page">?</a>)</td>
							</tr>
							<tr>
								<td></td>
								<td><button type="submit" id="subbutt">Convert</button>
							</tr>
							<tr class="aboutmeta">
							<td></td>
							<td>
							Metadata is information like what type of camera took the picture or when it was taken/made. 
							</td>
							</tr>
						</table>
				</div>
									<div class="pre-img">
						<!-- <img src="#" alt="#" /> -->
						<!-- <img src="http://s5.favim.com/orig/52/winter-nature-small-canon-eos-7d-Favim.com-474348.jpg" src="previmgr" alt="Demo img" />  -->
					</div>
					
					<div class="clear"></div>
				</div>
			</form>
			<div id="overlay">
			</div>
<!--
			<form action="oldupload.php" method="post" id="testForm" enctype="multipart/form-data" class="temp-form">
			    <table>
				    <tr>
				   		<td>
				   			<input name="fileToUpload" id="rilfil" type="file" accept="image/*" />
				   		</td>
				    </tr>
				    <tr>
				    	<td>
				    		<button type="submit" id="andreasbutton">upload</button>
				    	</td>
				    	<td>
				    		<button class="popup" type="button">popup</button>
				    	</td>
				    </tr>
				    <tr>
				    	<td><span id="message"></span></td>
				    </tr>
			    </table>
			</form>
			-->
		</main>
	</div>
	<script src="https://code.jquery.com/jquery-1.12.0.min.js"></script><!-- require jQuery -->
	<script src="js/main.js"></script>
    <script src="http://malsup.github.com/jquery.form.js"></script> 
	<script>
function readURL(input) {
	if ($(".previewimage").length){
		$(".previewimage").remove();
	}
	if (input.files && input.files[0]) {
	    var reader = new FileReader();
	    
	    reader.onload = function (e) {
	    	$(".pre-img").append("<img class='previewimage' src='" + e.target.result + "' alt='previewimage' />")
	        // $('#blah').attr('src', e.target.result);
	    }
	    
	    reader.readAsDataURL(input.files[0]);
	}
}
/* Popup/Overlay */
$(".popup, .dasfiln").click(function(e){
  $("#overlay").fadeIn(300);
  $(".previews").delay(200).fadeIn(300);
  e.preventDefault();
  return false;
});
$("#subbutt").click(function(){

});
$("#overlay").click(function(){
  $(".previews").fadeOut(300);
  $(this).delay(200).fadeOut(300);
  $(".dz-image").remove();
  $(".previmgrt").remove();
});
$(".metad").click(function(){
	$(".aboutmeta").toggle();
	return false;
});
 $(document).keyup(function(e) {
	if (e.keyCode === 13) $('#andreasbutton').click();     // enter
	if (e.keyCode === 27) $('#overlay').click();   // esc
});
/* Make popup fade in on upload */
$(function() {
	$("input:file").change(function (){

		// var fileName = $(this).files[0].name;
		// console.log(fileName);
		var filN = $(this).val().replace(/C:\\fakepath\\/i, '');
		var ext = filN.substr(filN.length - 3);
		if ($("option[value='" + ext + "']").length){
			$("#fromsel").val(ext);
		}
		$("#overlay").fadeIn(300);
		$(".previews").delay(200).fadeIn(300);
        readURL(this);
		$(".filename").html(filN);
		$(".filenamev").val(filN);
		$(".dasfiln").html(filN);
 	});
});

/* LEZ DO THIS */
$(document).ready(function() { 
	$('#testForm').ajaxForm(function() { 
		console.log("Uploaded " + document.getElementById("rilfil").files[0].name + " successfully");
	}); 
}); 



$(document).ready(function(){console.log("VER 9");});
</script>
</body>
</html>